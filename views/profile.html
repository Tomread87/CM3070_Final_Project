<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <%- include('./templates/head.ejs')  %>

    <!-- Load other CSS stylesheets -->
    <link rel="stylesheet" href="/static/styles/styles.css" />

    <style>
        .profile-image img {
            height: 200px
        }

        .activities-container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 40px;
            gap: 10px;
        }

        .activities-container>div {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: solid 1px;
            padding: 20px 10px; 
            border-radius: 8px;
        }

        .activities-container>div>img {
            height: 8em;
            padding: 4px;
            border-radius: 50%;
            border: 3px solid grey;
        }

        .stat-title {
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .stat-numbers {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin-top: 20px;
        }

        .user-info {
            font-size: 1.3em;
        }
    </style>
</head>

<body>
    <div class="flex-container">
        <!-- Header -->
        <%- include('./templates/header.ejs')  %>

        <!-- Create a div to hold the map -->

        <div class="expand-container">

            <!-- BIO -->
            <section class="profile-section main-container">

                <section class="profile-inner-section" style="display: flex;">
                    <div class="profile-image">
                        <img src="https://th.bing.com/th/id/OIP.yhqkR9B2hKbtwwZ8bPNbQQHaHw?rs=1&pid=ImgDetMain" alt="">
                    </div>
                    <div class="user-info">

                        <table>
                            <tr>
                                <td>Username:</td>
                                <td><%= user.username %></td>
                            </tr>
                            <tr>
                                <td>Exploring:</td>
                                <td><%= user.location_name %></td>
                            </tr>
                            <tr>
                                <td>email:</td>
                                <td><%= user.email %></td>
                            </tr>
                            <tr>
                                <td>joined:</td>
                                <td><%= user.join_date.toLocaleString().split(',')[0] %></td>
                            </tr>
                        </table>
                    </div>

                </section>


                <section class="profile-inner-section">
                    <h3>Settings</h3>
                    <table>
                        <tr>
                            <td><button>Change Password</button></td>
                        </tr>
                    </table>
                </section>



                <br>
                <br>
                <section class="profile-inner-section">

                    <div id="stats-container" class="activities-container">
                        <div>
                            <div class="stat-title">Knowledge Created</div>
                            <img src="/static/assets/icons/explorer-almanac4.jpeg" alt="Entity Icon">
                            <div class="stat-numbers" data_value="<%= statistics.totalEntities %>" duration="<%= Math.min(5,statistics.totalEntities/9)%>">-</div>
                        </div>
                        <div>
                            <div class="stat-title">Spots on Map Added</div>
                            <img src="/static/assets/icons/explorer-pin3.jpeg" alt="Map Spot Icon">
                            <div class="stat-numbers" data_value="<%= statistics.totalSpots %>" duration="<%= Math.min(5,statistics.totalEntities/9)%>">-</div>
                        </div>
                        <div>
                            <div class="stat-title">Locations Explored</div>
                            <img src="/static/assets/icons/explorer2.jpeg" alt="Location Icon">
                            <div class="stat-numbers" data_value="<%= statistics.totalLocations %>" duration="<%= Math.min(5,statistics.totalEntities/9)%>">-</div>
                        </div>
                        <div>
                            <div class="stat-title">Countries Explored</div>
                            <img src="/static/assets/icons/country-explorer1.jpeg" alt="World Icon">
                            <div class="stat-numbers" data_value="<%= statistics.totalCountries %>" duration="<%= Math.min(5,statistics.totalEntities/9)%>">-</div>
                        </div>
                    </div>

                </section>




            </section>

        </div>

        <!-- Footer -->
        <%- include('./templates/footer.ejs')  %>

    </div>
</body>
<script src="/static/scripts/number_animation.js"></script>

</html>